<div class="row">

  <h2 class="six columns offset-by-three card" ng-init="ctrl.updateBoardName=ctrl.boards[ctrl.clickedBoardId].boardName">
    <span ng-dblclick="ctrl.editBoardValue=true">
      <span ng-if="ctrl.editBoardValue===false">
        {{ctrl.boards[ctrl.clickedBoardId].boardName}}
      </span>
      <input ng-model=ctrl.updateBoardName ng-keypress="($event.charCode===13)?ctrl.editBoardName(ctrl.boards[ctrl.clickedBoardId]._id):return" ng-disabled="!ctrl.editBoardValue" ng-if="ctrl.editBoardValue===true" class="transparentinput" />
    </span>
  </h2>
  <br />
  <div ng-repeat="task in ctrl.boards[ctrl.clickedBoardId].tasks">

    <form class="eight columns offset-by-two" ng-submit="ctrl.editTask(ctrl.boards[ctrl.clickedBoardId],$index)">
      <!-- having a seperate mock button as its submitting thevalue and trying to edit at the same time -->
      <span ng-if="ctrl.indexOfEditTask!==$index || ctrl.editTaskbtn!==true">
        <div class="eight columns offset-by-one">
          <span>{{task}}</span>
        </div>
        <button type="button" ng-click="ctrl.indexOfEditTask=$index;ctrl.editTaskbtn=true;ctrl.newupdateTaskName=task" class="button">
          <span class="lnr lnr-pencil"></span>
        </button>
      </span>
      <div class="eight columns offset-by-one">
        <input type="text" ng-if="$index === ctrl.indexOfEditTask" ng-model="ctrl.newupdateTaskName" class="transparentinput" />
        <!-- button to initiate the actual edit -->
      </div>
      <button ng-if="ctrl.indexOfEditTask===$index && ctrl.editTaskbtn===true " class="button" type="submit"><span class="lnr lnr-pencil"></span>
      </button>
      <button class="button" ng-click="ctrl.deleteTask(ctrl.boards[ctrl.clickedBoardId]._id,$index)"> <span class="lnr lnr-cross"></span>
      </button>
    </form>

  </div>

  <form class="eight columns offset-by-two" ng-submit="ctrl.createTask(ctrl.boards[ctrl.clickedBoardId])">
    <span ng-if="ctrl.addnewTaskClicked">
      <label for="newTaskName">New Task:</label>
      <input id="newTaskName" class="u-full-width" type="text" ng-model="ctrl.newTaskName">
      <input class="button-primary" type="submit" />
    </span>

    <span class="row" ng-if="!ctrl.addnewTaskClicked">
      <a class="button button-primary" ng-click="ctrl.addnewTaskClicked=true" ">+ Add New Task</a>
</span>

<div class=" row">
        <button class="button-primary" ng-click='ctrl.deleteBoard(ctrl.boards[ctrl.clickedBoardId]);ctrl.boardPartialShow=false'>DELETE BOARD</button>

</div>
</form>


</div>
